{% extends 'base.html.twig' %}

{% block title %}- Press{% endblock %}

{% block body %}
<div class="container-fluid mt-4">
    <div class="row justify-content-center mb-5">
        {% for press in presses %}
        {% for tag in press.tags %}
        <div class="col-auto">
            <a href="">
                <button type="button" class="btn filters-btn">{{tag.title}}</button>
            </a>
        </div>
        {% endfor %}
        {% endfor %}
    </div>
</div>
<div class="container-fluid mt-5">
    <div class="row">
        <div class="col-xl-7 col-lg-7 col-md-6 col-sm-12">
            <div class="row">
                {% if presses is not empty %}
                {% for press in presses %}
                {% if press.isVisible %}
                <div class="col-xl-5 col-lg-6 col-md-5 col-sm-10 mx-auto">
                    <div class="m-lg-2 m-md-0 card">
                        {% if press.image %}
                        <a data-bs-toggle="collapse" href="#collapse{{press.id}}" role="button" aria-expanded="false"
                            aria-controls="collapseExample">
                            <img src="{{ vich_uploader_asset(press, 'imageFile') }}" class="card-img-top"
                                alt="{{press.imageAlt}}">
                            {% else %}
                            <img src="{{press.imageLink}}" class="card-img-fluid" alt="{{press.imageAlt}}">
                            {% endif %}
                        </a>
                    </div>
                </div>
                {% endif %}
                {% endfor %}
                {% else %}
                No result found
                {% endif %}
            </div>
        </div>
        <div class="col-xl-5 col-lg-5 col-md-6 col-sm-12 border-black">
            <div class="line-black sticky-col">
                <div class="row">
                    {% for press in presses %}
                    <div class="collapse" id="collapse{{press.id}}">
                        <div class="col-auto group-title-rectangle">
                            <h2 class="title-rectangle">{{press.magazine}} </h2>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="row ml-5">
                    {% for press in presses %}
                    {% for article in press.articles %}
                    {% if article.isVisible %}
                    <div class="collapse" id="collapse{{press.id}}">
                        <div class="col-xl-12 col-lg-12 col-md-10 col-sm-10 mx-auto">
                            <div class="m-lg-5 m-md-0">
                                <a href="{{article.link}}" target="_blank">
                                    {% if article.image %}
                                    <img src="{{ vich_uploader_asset(article, 'imageFile') }}" class="card-img-top"
                                        alt="{{article.imageAlt}}">
                                    {% else %}
                                    <img src="{{article.imageLink}}" class="card-img-top" alt="{{article.imageAlt}}">
                                    {% endif %}
                                    <div>
                                        <div class="row">
                                            <div class="col-auto">
                                                <h4 class="card-title pt-2">{{article.title}}</h4>
                                                <h5 class="color-framboise text-right">{{article.lang}}</h5>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}